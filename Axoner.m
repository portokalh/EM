function [Y,Xf,Af] = Axoner(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 19-Aug-2015 11:04:18.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timsteps
%   Each X{1,ts} = 15xQ matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 1xQ matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [1;1.15470053837925;1.15470053837925;0;-89.9297212050468;1;-1404;1.12837916709551;0.215916990653724;0.0641975308641975;0;0.352715080143932;2;1.15470053837925;0];
x1_step1_gain = [1.02673937350417e-06;0.000708034412883734;0.000868924890028991;2.00231877212796;0.011115451002788;4.94490754877224e-07;0.00142348754448399;0.00127087026378883;2.55075033658424;2.13720316622691;4.44148542815253e-05;3.08982943777637;3.337516910781e-07;0.000784363310426197;0.889046941678521];
x1_step1_ymin = -1;

% Layer 1
b1 = [0.27842455131087773257;0.025203113976448879296;-0.10584679062162725971;-0.061209450110335503203;0.18559380933114322243;0.24412967554666389902;0.033329158116155506442;-0.046297317245429944754;0.056355990607419255423;-0.013644469211398979266;-0.32848805547616527489;-0.24133514252455512406;-0.0033192226075866070392;0.014063564380296532733;-0.039142490746837663163;-0.036729521099573531062;0.006511011982278372065;-0.82897512964414754588;-0.22178992401103669874;-1.129282050539478055;-0.18581680083145152294;1.2872930611141868429;0.052265342863409100516;-0.062108356567714198548;-1.4252680611611825423;0.052832516492331803304;0.48317289067717295037;0.1839153745952983865;0.050393881566338498412;-0.63062284314513139538;-0.049958252053571267082;-0.044265654810481239179;0.011394739605220725182;0.094119610577388865269;-0.18167434814908633989;0.13912332357880863309;-0.79816226224700326242;-0.061648699767144453376;0.20690907990420440155;0.15505223313540328345;-0.04520495996349475909;0.0020561984638452889679;-1.2786569418423965327;-0.033531557123433274048;-0.069132549398681547581;0.22493820528884556076;-0.20910243199136360759;-0.51830879002608465367;-0.54307532591199847438;0.41387472895745613943;0.28974132953412257141;-0.36257891301965822217;0.23548170806187804227;-0.57232950988538999759;0.2165516520029869274;0.024424743627209047347;-0.30473906307835196827;0.059299175663486081156;-0.035057946363122434452;0.29683104059304343814];
IW1_1 = [-0.39350702890050448524 -0.17797662759396948307 -0.22471350572550236047 -0.26690522354512913328 0.22388857789661570363 -0.29550783187469625846 0.065789306545097667178 -0.063385394307717432549 0.30741794467248889644 0.333093464110772286 -0.10648207063229774005 -0.4980698663191333031 -0.32736343080796181937 -0.069308912209960341078 0.085345907636252132944;-0.057081350691230936523 0.018972105139086790221 -0.00085534988687232344981 0.011229378899169072462 0.024732611986092879058 -0.0262428906182686425 -0.0034773037134402094185 0.017296975572216034128 -0.044334909913194338327 -0.015327364842180585258 -0.011430431478566729225 -0.0037963773448474610016 -0.036267234090774543021 0.037295341546578993086 -0.030594499835339294957;0.18018455019017129426 0.0060389180846042531808 0.0514162537354114213 0.024403689425577496097 -0.16182469834697046918 0.10537833148544631379 -0.0037774649474967346256 -0.0051636250864822768811 -0.032785218866087199874 -0.078960049678710161891 0.04700805091924867285 0.12652007114811192334 0.1296948256925609666 -0.029681729500798743199 0.18340197184224793503;0.18586806229077118546 -0.37368861679353604366 0.030237941668169180526 0.032325065929517345087 -0.50386750235563337874 0.08120409264293682039 -0.051916266115100612177 0.25395411012082780289 -0.73797506690377312477 -0.34984218181873377729 0.046035808467590706716 0.47474455034708468171 0.11522614127195714151 -0.088776483213851203891 -0.074433212846109098049;-0.31812784057055265574 0.033614073447890059632 0.0623662394891097982 -0.11224178333757327264 -0.027046311977169768676 -0.17702011042955551057 -0.038135024638190934132 0.1425625132699661346 -0.0075398370010595541085 0.13911940629193056407 -0.015876948436163353801 -0.06913484160830853098 -0.22288856064093370835 0.19611639467877828302 -0.039466130249874359359;-0.37309911555217900592 0.0043108526398370275445 0.034623321394400309592 -0.15746730285888430045 -0.17728699349930662765 -0.22387596040108551088 0.0086637871555473484897 0.10349425129329824224 -0.10725100592449833548 -0.027523996265432913721 -0.061206274323001484683 0.10374750351272672699 -0.27238240840650917995 0.1425888319213484412 -0.15847446797661698947;-0.076092259934602182736 0.024396027889332341093 -0.0017111817869967509576 0.017447544272277914351 0.03206028291335692032 -0.034567843389626616568 -0.0060570819729819716515 0.021615332893239268264 -0.053745276774459595226 -0.0085261236871485828609 -0.016240462172155835374 -0.006051085359427352782 -0.048065762045480596443 0.04756188357890995394 -0.042269589633638207649;0.1035560397509597691 -0.029737475057322812488 0.0043627150567843164808 -0.01988499874221234115 -0.045074844093221475005 0.047616172995715730365 0.0093795063669704688974 -0.025580228742224257743 0.056360568737554482543 -0.010638998148519530212 0.023748571451761246037 0.01493418755108991483 0.06579997436172295433 -0.058242475150482420077 0.062134000720785981242;-0.12123033367949447026 0.029882976377823472491 -0.0080634322678269781948 0.011899625127508341171 0.057979703486514232169 -0.057504419181436436381 -0.010165246168907274629 0.027038885397399931021 -0.05105150396469533558 0.025904803883787894114 -0.029451661486865086947 -0.027060615402611301605 -0.078219151737135131364 0.061032620591375569274 -0.081604934599487755076;-0.034603387051226092153 2.5862213711016908135 0.35651087534665099055 -0.99381923781942660412 1.4990963752053936275 -0.75287627815086277661 -0.82172480233769529256 0.25021477918274181995 -1.7906705786013521475 0.002492819783246619323 -1.6449448863717681668 -2.2902343569884258123 -0.51939463879703762217 1.2506214671238105041 -0.36808846711245757355;0.43773034253659087733 0.11302183323267571413 0.069401280887440214284 0.40402543585112166147 0.042830476738308483065 0.32870693627210184617 -0.089332831219743960571 -0.046342295083761732288 -0.3158967875369136924 -0.35996761913714431236 0.05577220541017783445 0.48144295262195702101 0.3641460624107591415 -0.072941375168722386024 -0.033285848354508228153;0.041130052830723816404 -0.41597223276661432489 -0.21952129010876472726 0.21828549388899168293 -0.024375551416975116403 0.26600926921022927107 -0.72197627261513397379 -0.091592318551052695486 0.082564637754496447708 0.30845548110211140624 0.012669908928178513774 0.0079289450356836814471 0.19291007725301065334 -0.087647127273514230383 0.47569089487381266412;0.0066852588604385176571 -0.0026851149778460599304 -9.8173182605763324921e-05 -0.00068095719143560471971 -0.0029658959736405155101 0.0034954540524108198771 -0.00041910728589301840356 -0.00026055163076846299397 0.0040733466840814983034 0.0025504806405926292237 -0.00030337627230470949223 -0.00081862522902661875868 0.0045323313844177308407 -0.0047887498104283270084 0.0032656896891211377627;-0.030960878923392626955 0.010223182071485576936 -0.00055705116181141119732 0.0053263382547824389759 0.013563309900326260549 -0.014681614130751960423 -0.00089244370572127919208 0.0094770067985065192112 -0.02458530076859467145 -0.012914394986516952377 -0.0058440450610437542217 -0.0020768217047986660059 -0.019973348624170845361 0.020522408981352418395 -0.01574314330809920004;0.08936197990757775711 -0.026559411863526807135 0.0033954187816069613184 -0.023498320135891075794 -0.03776464481079520874 0.040379187210685757448 0.0080538327375695630689 -0.025560729429870265167 0.056730079990288527492 0.00038102123911088630649 0.021723436661434655792 0.0090786233750305370821 0.056301523835229537462 -0.052672938701373038517 0.051144741414849467787;-0.45105993097596325248 -0.87411845825288503331 -0.11456841346711503504 -0.25149751709090978347 0.20412154032471582776 -0.20827075982198423043 -0.21233500410944108894 -1.0318028236571312739 0.25960457570324435572 0.1447635427020451393 0.23622252303778398796 -0.070562270914743208117 -0.28719175805193891682 0.41038444827852671448 1.9670107183458516165;-0.014144128070384261522 0.0045838905390877277696 -0.00032999362861684498893 0.002446170726020369373 0.0060422770251827347815 -0.0068003564290010530199 -0.00022849080457388568121 0.004316989417190342411 -0.011121054315577708071 -0.0064934322237267094041 -0.0026800829203088311764 -0.0010329079169960925667 -0.0091875214233748409703 0.0093228633842004603183 -0.0070087859956186977436;0.81039276936578164001 -0.47561147051146801523 -0.49738302877016932202 1.5532784654578817296 1.3192258623786168314 0.77393448643540829757 0.055972773649981870381 -0.56161800655238902635 -2.3925271026819370235 1.8677050710385361132 0.89356751759974006877 2.5503975384397903348 0.78578560857477164348 -0.46924893972256731534 -0.9118950699624199796;0.34202853903594804263 -0.052350457826392887695 -0.015167611075606785703 0.27034437668180233416 -0.14807140307364913268 0.21898962188787474137 -0.0051419963963057601503 -0.11214578118664349227 -0.24423103217702668566 -0.51002560087530246502 0.018627739259487616219 0.1700832798168762372 0.25898462750085765594 -0.15693949932120374036 -0.0308975171113610933;-0.33407521468445489088 0.27984241655126795845 -1.7159376189164465831 3.354186096517962401 0.5675028647685033123 0.34437535588054196678 -0.067138554508020975575 1.8684645590407282789 1.0308122258541962957 -1.89920073060316974 0.26405897929157595705 5.4218956768390276224 0.12383835189091856044 -0.89331724822934388541 2.3756066911191946467;0.30901580519579391337 -0.054597839270304829307 -0.045963247820775508801 0.15257267189601203539 -0.05720731865532772964 0.18073379051885377078 0.02180669269053830267 -0.12994930178205785221 -0.083217314018511817642 -0.29677317551158410858 0.014715132378326802737 0.07799788280501351867 0.22243311592571823887 -0.18097754854038580752 0.085712048546402991311;-0.14133780299664261415 1.0225047020077770998 0.59665743975937757249 -1.2386016949521732045 2.1187598195868040385 -0.01424321370529086847 1.9603160452526031676 1.6089542817624855608 -1.5387901207338874343 -0.53280819405454815652 3.0201120292199643558 -2.4070783282854693041 -0.055556554817731890195 0.76760935130507867985 -1.2588109933493498716;-0.11433578125009920268 0.030472342241243517702 -0.0061634489793705423202 0.014474421458191333301 0.052259445164307929965 -0.053536966268918434464 -0.010029306028250988339 0.026199847492579451252 -0.053877405568723078788 0.019838374958845956392 -0.026666980748562305742 -0.021844346240052343183 -0.073300216855033309415 0.060613428817762736445 -0.073156641956614754108;-0.21922742507802164824 0.92341733149056448582 0.196832624162407821 -0.45054874660802818331 -0.20168854528659715952 -0.12358975145526544803 0.37790130747425876301 -0.63219491361985102884 1.6112831582220725757 0.3242233010468030252 -0.80286311497859086383 0.72527852199982711934 -0.15467771430488208573 0.045569056275323663319 0.99533250903571257595;-0.053615456037191915051 -0.25968444995404926789 -0.1957373789640502737 0.12950532486623189676 0.016938380982640062478 0.51312037536663179793 1.9127696921997356938 -1.1213938596010986082 0.050762947734680659295 0.16133627297840938408 -0.32323190898731901655 -1.2763127478068818643 0.3288973414349457558 -0.11332383885710350935 0.51073943465454030299;0.028413922652122454438 -0.18695116859234747753 -0.1397677085145447029 0.033014488448759232719 -0.50165696118219271771 -0.05090993568482545667 0.10124561205767931837 -0.12993678730880492411 -0.26986744654130789822 -0.21051950500039443015 -0.077099333039967410386 -0.0018007202520205645851 -0.025124938552161725502 -0.18732755997137653936 0.023355431015973072972;-0.16484609388724569268 -0.0072910102970754854176 -0.39297360747700277317 0.67948517568849897685 0.70026389241575903721 -0.39372216593130515694 0.45161894868757956889 -0.19629435748247081595 0.010177216442257009874 0.40077940235336728669 0.28454900609025840508 1.1242961951125587383 -0.31932375663388301579 -0.16571588533513548214 0.46379848189683126058;-0.24795573884556759703 -0.94979877027923165222 -0.45237955376961236365 3.398720877215553049 0.64840474099330625002 -0.25370311951595087008 0.0011770380576266890535 -0.70935767702260810186 0.61674706831815340191 -1.6126090840525397763 -0.24687837545109647674 0.68213260554569887795 -0.2518348771500476535 -0.70516549765639047198 2.5447248194722384973;-0.22832407533685714074 -0.53678287856673823075 0.22255919233644694266 1.5340921433125824791 1.310509934308802471 -0.075807211043764130554 -0.88506246106192221212 -0.65115756268076740998 -2.3691960744847775366 1.850092871045035503 -0.03482999725006967473 -0.10820188300234255541 -0.12538431188559015506 -0.027469599045423804401 -0.88960956157119563947;0.97868151706375761112 0.21261125232346056446 -0.36675050700502309642 -0.25792709285484893833 0.18162486822784232321 0.59737805053944836864 0.55218836597644593844 -1.3715755278475694201 0.2669790313701876916 0.15946798167791464973 -0.97499414703511722013 0.56619431727571689628 0.72132447719501213701 -1.3001287299400052788 2.0024396745539374542;0.11092287428178498887 -0.029443400531199842574 0.0062378109279208034457 -0.022790079340155280224 -0.049766117729407179093 0.051135198881479021482 0.010147828680138994834 -0.028243005710236107619 0.055086391095546270724 -0.016443853627962683184 0.028030661541300395251 0.018176012023119570565 0.070569768366293181283 -0.059307667907442504496 0.068937678427691106986;0.099736305723556573088 -0.028838270833833803269 0.0041954428894666086214 -0.022561739094539422223 -0.042982924626421482872 0.045545058494756929246 0.0090975591186792451048 -0.025966349650522187881 0.056728120642935926654 -0.0074997783792361046723 0.023574515968841459196 0.012872805019281275546 0.063160454184431988334 -0.056755447572458088412 0.058837316383979793022;-0.02498974334674216799 0.0081479334819932001249 -0.00052692249867688969317 0.0043435619681317051352 0.010853584652377911562 -0.011894521172888593979 -0.0006328325602021771289 0.0078183639523193518978 -0.019893496817732787829 -0.010962895607620620764 -0.0048653545390743135196 -0.0018515971577094771702 -0.016151251605496543678 0.016501670736566793202 -0.012576652916209270575;0.21453525167780881922 -0.0058733543228082583237 0.38335062903856764738 -0.33233340465767124972 -0.11035906958325145122 -0.013937825546468831164 0.38697217363191527273 0.19358387910891397543 0.023063011582882018274 -0.38564962049844181413 -0.077236075011698115955 -0.25861700578783819449 0.060329586068116072828 0.053104924425033533941 -1.0200992231205470162;0.3460255758799539727 -0.23509390502262172973 -0.059835356230921364629 0.028139100585368927165 0.50230695501567590444 0.16634323183766538956 0.072393820629595304061 0.082944643667872297588 0.85730560906435393509 0.3241522109087093817 0.06706805425303644097 0.29361687984132561757 0.22475073781924007066 -0.15430660217662867106 0.074850019988319582698;-0.35380873505183502159 -0.057819893957699430853 0.059160821708009250774 -0.064261685487749381496 -0.33048822401048000286 -0.15762048424122601653 -0.14535509716886987897 0.022075451992894869896 0.17071066845843421711 -0.26164985914377858478 -0.071739257829766867047 -0.06950228966962888888 -0.22139339741731695055 0.20645068896725804475 0.34491274550845790747;-0.16041320685104384913 -1.5075016914112440158 0.3469505515874127255 0.50827588668303469444 -0.075123440036051716828 0.46108190750201472063 -3.5884919036851856688 -0.17893782127690838202 -1.4921874518707383128 -0.84559240189244022634 0.79367070797478345145 1.3958081384425045091 0.25905883252718026055 -1.1820766090127976522 -1.5198631683990331265;0.7976248252046335141 -1.5351141852193856963 1.0142771992288723837 0.3399099208104289227 -0.12579292245125206495 -0.26063660886126027716 1.2738003787607043993 -1.4704726037163657892 2.4686774328457645744 -1.368290462997066026 -1.7294362671749989868 1.7421560144004737403 0.083361636731586072346 0.75695344100724670788 2.5268694706167527109;0.23236750765842920097 0.079945377028711697709 0.092132468244023324466 0.18257359859697602777 -0.040566294699125510226 -0.084891624677934832133 0.30530647855784881495 -0.3344107501540144467 0.083100443748541710787 0.33089207995056485467 0.097689062177737415182 -1.6019306106167543469 0.018236563861097097178 -0.47128119639830162724 0.5259880108816401556;-0.40630879027500615974 0.30536156996018054555 0.1348182666179883471 0.16060043158762873916 -0.26767367005485859233 -0.19972514154755210969 -0.31955088649822532831 0.090239476215365349576 -0.025375224079684188111 -0.44742857514517964113 0.068659068874654047288 -0.4788280154155144519 -0.26687718054873482698 0.38803752412627018353 0.10760883293835084296;-0.15180319039498518796 0.26695721347895978726 0.1147022767392537751 0.23898755012926536923 0.056143858197169042856 0.024443807058729519199 -0.26024441765598010923 0.061301111032983870985 -0.37347679585589582674 -0.37517186859794687814 -0.057384067080297397612 0.37606521335375459048 -0.032847005956492023038 0.36395843742325872938 -0.14200093476265424064;-0.0048784050480385008491 0.0011371595860251199235 -0.00034166983327706075329 0.0012649022154452690871 0.0019656608140322224219 -0.002121613220317731998 -0.00050685027333282500241 0.0030093922520717940501 -0.0048492593131667805634 -0.0027876723213857172376 -0.0022612392991921610209 -0.0015152220392832347479 -0.0030177353667327584327 0.0028867688843217101033 -0.0024360310973313369608;-0.67796149139418937501 1.2738412589979095646 -0.31206648622282145977 -0.452908151268955117 0.073237384570949581875 0.8595315362541701143 -0.024800535119301816978 -3.1401263690903471471 2.924144586714194638 -1.8702454205928797926 -2.1496370479554349764 0.88943055748700872165 0.35975436675826338861 0.48483149922109491925 0.8570589359762381676;-0.40196534526233490547 0.28422910860077110762 -0.29098192377258541574 -0.40096782203041564374 -0.1180842871337589306 -0.15021888416295195445 0.10017709559088940063 -0.55383665764371814433 -0.19477038120527964682 -0.17312479974130676186 0.22941523239322300642 -0.20228860468295631336 -0.23205153720645818605 -0.0050554338859805786344 0.80235821834332821112;0.13880069121706656299 -0.025200960801922980825 0.014948803801266204519 0.0056428622532813674587 -0.079555634515156778419 0.069949503893459108461 0.00828999869358119576 -0.024185230270742916203 0.035658296182384294215 -0.042893835046639183783 0.033889717320326390171 0.048558705391405089513 0.092330256773590926866 -0.058531487127520431812 0.11215026787021457888;0.29844455760559041035 -0.33062921156096231057 0.7816553246512456532 0.53093088572897906285 1.7930091495739584051 -0.056943356642728648609 -0.29687699922930138596 -0.92152677351319089993 -0.63704395429448523736 2.1904969963502107788 0.30945267016663879911 0.11356479974073607764 0.058578965410298063088 1.3739921233951035706 1.147353973082393841;-0.46580413521796176779 -1.0900204401285946698 -0.52411314955371257618 -3.1576429911248058424 -0.50243825675358322336 0.068627873192325272722 0.0453146071317850202 2.3587371113305097836 -1.3319129644755971498 2.0519184999952462256 -0.78865789810143616112 -5.0314566725728795404 -0.10509448639087194677 -0.71974339749257565391 -2.2379198169499567861;0.95478348682876190701 -2.4565198151098806001 0.89161334902410449565 0.34828231795476588539 -0.055562340308758118024 0.64183215263863013789 0.99013128910257952597 0.20236302079239645857 -1.0677717475233714506 -0.78874318392972420089 0.35254985801744065377 -0.48182188795546326832 0.74356004956514143434 0.43182728870879943939 -1.5844459662880927553;2.3442955708196806519 -2.4535215570715234179 -0.26280870221142860199 0.46514035121793884109 -0.051497358621277265767 1.4571740908737584874 -0.37723279419471617002 1.0579181655474545476 -1.1919585301564579183 -0.80866128171465567753 -0.84625495512187387526 1.3129639689481391596 1.7455416175313420712 -0.7835050184125963435 -1.6163748597719140854;0.020801861327332176604 0.6305332689024195636 0.23238557577847412938 -0.53087607149061077916 -1.7933608008358632446 -0.40560256765745289487 0.96716779096951088768 -1.6429979772298382024 0.64091475865969482761 -2.1920464014627794036 0.12712417921626370521 0.17441376086539234214 -0.26699563091615080568 1.3916828438059403172 -1.1485370024783976284;0.24240453997904373717 1.1317910233399861575 -1.5509014839389012597 -0.62478942242192259116 0.074194858831975282754 -0.1511022764153690523 -0.34509801700385928092 -0.085659405812707548056 3.2842601384278302667 -2.2159200367516995733 0.1805757904022317617 0.72687292572152728543 -0.023189031079972177024 -1.9651479935927853582 1.0578446305193620613;-0.47123752950412617357 -1.1854812267216494615 0.42930280548754812253 0.3312487528060918951 -0.091761864777266971549 -0.026472176726038090799 -2.1357684870369615382 -0.28370731164911938693 -1.5240895258761808506 -0.81014372207399354409 0.51702591257467256369 -0.49092171065128520357 -0.17104751163662026969 -0.18475530827431699277 -1.4068946559239916549;-0.52205924301659545339 0.30338965618464064367 -0.26289188936985380396 2.9883086410510291131 0.4818375722442804765 -0.27705190748270841494 0.45895989492855704395 -0.79657866806048749364 1.3589068344898718177 -2.0171008826184491092 -0.92425487006825457481 0.22307857719792101303 -0.35669394192098402563 -0.15903387003712993186 2.4061805262119309035;0.16775659198795211946 -0.12006584139343098871 -0.24975041506303263805 -0.26094571423716439451 -0.066437810047242071287 0.59951876052073749257 -0.25044066165242412358 0.25797047653871585382 -0.026086971197330981881 -0.26112652295852128992 0.38597616462131051351 1.7427257512415526008 0.45917023837726289592 -0.07987883878722690234 -0.80701606472206455223;-0.41218889355888826964 0.52471503086270065985 0.19227189299517333243 0.36792342573023939512 0.13677626121288247174 -0.23667753371299021792 0.047962829424821454283 0.34204184651817787222 0.11432182290016046355 0.1214299549879223894 0.10881755779554279362 -0.40446795530848395073 -0.29372922088613118152 0.48745360981581459248 -0.82777586907409672623;-0.055166172205905562864 0.018434983185622817736 -0.00076031994779635059516 0.01055542615883080064 0.023987037754929371736 -0.025446266125172735395 -0.0031719303693904556118 0.016532769997985283933 -0.042964112413302647797 -0.015550519002673273555 -0.010765443434215864194 -0.0035351806667383942756 -0.035107012589558179994 0.036200035010263580115 -0.029451905246266157218;-0.045557075355739128086 0.060644130902550240358 0.29089848375827015436 0.41785940975406349329 0.17122123344868164785 0.20400682539979467234 0.076685603370867883033 -0.44598692690345376199 -1.2366202160659662823 -0.30689854578250508332 -0.18722033555043951503 -0.69626625024051536084 0.12288363431777372947 0.35972306661217934298 -0.68637338954889748344;-0.12547118181821018124 0.029423075424604386297 -0.0092164459541283182131 0.006271290288920551223 0.062397783201817401399 -0.060424574589054820539 -0.0098648233029734310601 0.026099980606695657309 -0.048157412639538967059 0.030071258148465306037 -0.030028177435049444033 -0.031784051145710416619 -0.081568611502758403553 0.061074294918083860129 -0.088303057125323547449;0.080054505011712462359 -0.025250721651703743331 0.0020802183444208772328 -0.018998476935107339036 -0.03366480415390040587 0.036312217793759184181 0.0066422713523910173472 -0.022605475168650850104 0.054962675397964108615 0.0063136304494356559891 0.017581885425315035149 0.0068358747656099040635 0.05053107673728538668 -0.049316813719022051243 0.044820657820020939899;-0.32084883751189136047 -0.52629569343310933505 0.14417086969678663544 -0.38889992079026014515 -0.17529250582198496744 -0.21001773348647470585 -0.30073652790996724393 0.78154594295592783038 1.3248694175260242734 0.27108437060328144375 -0.73549296540555997304 0.035552923355397246519 -0.24604446942993757341 0.1888154633536837379 0.71218684750535565797];

% Layer 2
b2 = -0.56992838267997569801;
LW2_1 = [-0.76097433829472049815 -0.11064923463233632128 0.28247369693537044411 0.57623879673172373472 -0.48475406076274851763 -0.51388389341639639785 -0.14352748800003004015 0.18291921721093373776 -0.2040264067371684864 -3.6803407139265438275 0.67589783542434422881 -1.4115293520962328699 0.012231280252567618486 -0.060216771329807593227 0.16415262056245460975 -1.3526405984614255917 -0.027328351456076732662 0.119076365740665574 0.52024830034838898118 2.6766510741412306018 0.46585434753222437765 2.6618293768525145282 -0.19592742694778023105 -0.86738386454797966607 -1.8121440348528985442 0.26421881460862234325 1.0050691748458182584 -1.2144246162705747416 -0.12162969278990473643 1.3634762431886460199 0.19284333209593801373 0.17821460064522659517 -0.048561791553670789756 0.59973533340600604369 0.47067868643235616366 -0.69214228500814811706 2.2362794651876205521 -2.3524717434290352003 1.2364433441189537355 -1.1595587630271675383 -0.94279602932779749125 -0.010000418010637324856 3.8052062619523465692 -0.85501362309908668369 0.22272166382340582991 2.0654982769369936157 2.8404866430404949185 2.66857204970896289 -3.3048483993781370138 2.0634444678564665132 -2.0926177672035195521 -1.5321152186268998108 1.37135293253013546 -1.6738473602876819957 -1.033837856695891233 -0.10701843964944067478 -1.9936609181808899738 -0.20829872333118606975 0.14985997561961580948 -1.0031122099831242256];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = 0.04;
y1_step1_xoffset = 0;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},2); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
